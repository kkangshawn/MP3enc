<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>MP3enc: main.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MP3enc
   </div>
   <div id="projectbrief">WAVtoMP3encoderusingLAMElibrary</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">main.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>MP3enc main source code.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="main_8h_source.html">main.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for main.c:</div>
<div class="dyncontent">
<div class="center"><img src="main_8c__incl.png" border="0" usemap="#main_8c" alt=""/></div>
<map name="main_8c" id="main_8c">
<area shape="rect" id="node2" href="main_8h.html" title="MP3enc header. " alt="" coords="467,80,528,107"/>
<area shape="rect" id="node12" href="lame_8h_source.html" title="lame.h" alt="" coords="792,155,854,181"/>
<area shape="rect" id="node15" href="audio_8h.html" title="header for audio.c " alt="" coords="878,155,942,181"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a10e29fc7e1b4015730f2e3c5837abd4d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a10e29fc7e1b4015730f2e3c5837abd4d"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a10e29fc7e1b4015730f2e3c5837abd4d">isWAV</a> (const char *filename)</td></tr>
<tr class="memdesc:a10e29fc7e1b4015730f2e3c5837abd4d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check given argument has 'wav' filename extension. <br /></td></tr>
<tr class="separator:a10e29fc7e1b4015730f2e3c5837abd4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeea76e7b5bc07bb53eeb555255008a14"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#aeea76e7b5bc07bb53eeb555255008a14">set_outlist</a> (char outlist[PATH_MAX+1], const char *filename)</td></tr>
<tr class="memdesc:aeea76e7b5bc07bb53eeb555255008a14"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set output file list with given '.wav' filename then change its extension to 'mp3'.  <a href="#aeea76e7b5bc07bb53eeb555255008a14">More...</a><br /></td></tr>
<tr class="separator:aeea76e7b5bc07bb53eeb555255008a14"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c444960017d213f9eab82acfe615b2d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="main_8h.html#a4a11444df029e3085608bc233e5fe262">opt_set_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a9c444960017d213f9eab82acfe615b2d">init_optset</a> ()</td></tr>
<tr class="memdesc:a9c444960017d213f9eab82acfe615b2d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize option set.  <a href="#a9c444960017d213f9eab82acfe615b2d">More...</a><br /></td></tr>
<tr class="separator:a9c444960017d213f9eab82acfe615b2d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaba94fe9cf05e5e76fb0606cb1c56ce3"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aaba94fe9cf05e5e76fb0606cb1c56ce3"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#aaba94fe9cf05e5e76fb0606cb1c56ce3">deinit_optset</a> (<a class="el" href="main_8h.html#a4a11444df029e3085608bc233e5fe262">opt_set_t</a> *param)</td></tr>
<tr class="memdesc:aaba94fe9cf05e5e76fb0606cb1c56ce3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deinitialize option set. <br /></td></tr>
<tr class="separator:aaba94fe9cf05e5e76fb0606cb1c56ce3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a567026ed303c8dddceeedadcae448228"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a567026ed303c8dddceeedadcae448228">get_filelist</a> (char inlist[][PATH_MAX+1], char outlist[][PATH_MAX+1], int *nFiles, const <a class="el" href="main_8h.html#a4a11444df029e3085608bc233e5fe262">opt_set_t</a> *param)</td></tr>
<tr class="memdesc:a567026ed303c8dddceeedadcae448228"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get file list from argument. Set input file list and output file list. If the argument is directory, search all the files in it. Ignore files if the filename extension is not 'wav' A sub-directory can be searched recursively with option '-r'. Linux uses dirent, Windows uses WIN32_FIND_DATA.  <a href="#a567026ed303c8dddceeedadcae448228">More...</a><br /></td></tr>
<tr class="separator:a567026ed303c8dddceeedadcae448228"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afbe2f12b46a4f803dbec26447f13b93d"><td class="memItemLeft" align="right" valign="top">FILE *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#afbe2f12b46a4f803dbec26447f13b93d">init_file</a> (lame_t *pgf, const <a class="el" href="main_8h.html#a4a11444df029e3085608bc233e5fe262">opt_set_t</a> *param, const char *inFile, const char *outFile, const int nFile)</td></tr>
<tr class="memdesc:afbe2f12b46a4f803dbec26447f13b93d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize each file and lame library. Set encoding quality level as set in an option parameter.  <a href="#afbe2f12b46a4f803dbec26447f13b93d">More...</a><br /></td></tr>
<tr class="separator:afbe2f12b46a4f803dbec26447f13b93d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ef30c42cbc289d899a8be5d2d8f77d0"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2ef30c42cbc289d899a8be5d2d8f77d0"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>usage</b> ()</td></tr>
<tr class="separator:a2ef30c42cbc289d899a8be5d2d8f77d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3fb3df5dfeb3638f14adde66c0d1072d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a3fb3df5dfeb3638f14adde66c0d1072d">parseopt</a> (int argc, char *argv[], <a class="el" href="main_8h.html#a4a11444df029e3085608bc233e5fe262">opt_set_t</a> *param)</td></tr>
<tr class="memdesc:a3fb3df5dfeb3638f14adde66c0d1072d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parse application arguments and set option set parameter.  <a href="#a3fb3df5dfeb3638f14adde66c0d1072d">More...</a><br /></td></tr>
<tr class="separator:a3fb3df5dfeb3638f14adde66c0d1072d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ddf1224851353fc92bfbff6f499fa97"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0ddf1224851353fc92bfbff6f499fa97"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>main</b> (int argc, char *argv[])</td></tr>
<tr class="separator:a0ddf1224851353fc92bfbff6f499fa97"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>MP3enc main source code. </p>
<dl class="section version"><dt>Version</dt><dd>0.5 </dd></dl>
<dl class="section date"><dt>Date</dt><dd>Aug 17, 2016 </dd></dl>
<dl class="section author"><dt>Author</dt><dd>Siwon Kang (<a href="#" onclick="location.href='mai'+'lto:'+'kka'+'ng'+'sha'+'wn'+'@gm'+'ai'+'l.c'+'om'; return false;">kkang<span style="display: none;">.nosp@m.</span>shaw<span style="display: none;">.nosp@m.</span>n@gma<span style="display: none;">.nosp@m.</span>il.c<span style="display: none;">.nosp@m.</span>om</a>) </dd></dl>
</div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="aeea76e7b5bc07bb53eeb555255008a14"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void set_outlist </td>
          <td>(</td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>outlist</em>[PATH_MAX+1], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filename</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set output file list with given '.wav' filename then change its extension to 'mp3'. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">outlist</td><td>An output filename with mp3 extension </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">filename</td><td>A name of input wav file </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a9c444960017d213f9eab82acfe615b2d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="main_8h.html#a4a11444df029e3085608bc233e5fe262">opt_set_t</a>* init_optset </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize option set. </p>
<dl class="section return"><dt>Returns</dt><dd>Option set </dd></dl>

</div>
</div>
<a class="anchor" id="a567026ed303c8dddceeedadcae448228"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void get_filelist </td>
          <td>(</td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>inlist</em>[][PATH_MAX+1], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>outlist</em>[][PATH_MAX+1], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>nFiles</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="main_8h.html#a4a11444df029e3085608bc233e5fe262">opt_set_t</a> *&#160;</td>
          <td class="paramname"><em>param</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get file list from argument. Set input file list and output file list. If the argument is directory, search all the files in it. Ignore files if the filename extension is not 'wav' A sub-directory can be searched recursively with option '-r'. Linux uses dirent, Windows uses WIN32_FIND_DATA. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">inlist</td><td>Input filename list </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">outlist</td><td>Output filename list </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">nFiles</td><td>Total number of wav files to be encoded </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">param</td><td>Option set containing name of input and output and option parameters </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="afbe2f12b46a4f803dbec26447f13b93d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">FILE* init_file </td>
          <td>(</td>
          <td class="paramtype">lame_t *&#160;</td>
          <td class="paramname"><em>pgf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="main_8h.html#a4a11444df029e3085608bc233e5fe262">opt_set_t</a> *&#160;</td>
          <td class="paramname"><em>param</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>inFile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>outFile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>nFile</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize each file and lame library. Set encoding quality level as set in an option parameter. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">pgf</td><td>Pointer to lame global flag </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">param</td><td>Option set </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">inFile</td><td>Input filename </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">outFile</td><td>Output filename </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">nFile</td><td>The ID number of the file to be used for get_audio_global_data </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Pointer of FILE structure </dd></dl>

</div>
</div>
<a class="anchor" id="a3fb3df5dfeb3638f14adde66c0d1072d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void parseopt </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>argv</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="main_8h.html#a4a11444df029e3085608bc233e5fe262">opt_set_t</a> *&#160;</td>
          <td class="paramname"><em>param</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Parse application arguments and set option set parameter. </p>
<dl class="section remark"><dt>Remarks</dt><dd>Not use getopt() for the benefit of compatibility for Windows </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
